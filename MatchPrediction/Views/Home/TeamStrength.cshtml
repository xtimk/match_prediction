@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<div class="text-center">
    <h2 class="display-4">League & Team Statistics</h2>
    <br /><br />

    <h4>League Goals Statistics</h4>
    <hr />
    <table id="divisionavg" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Division</th>
                <th>Home Goal Average</th>
                <th>Away Goal Average</th>
                <th>Total Goal Average </th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <br /><br />
    <h4>Team Goal Statistics</h4>
    <h6>The Goals are all weighted based on the average goals scored/conceded in home/away.</h6>
    <hr />
    <table id="teamstrength" class="display" style="width:100%">
        <thead>
            <tr>
                <th>Division</th>
                <th>Team</th>
                <th>Home Goals (Weighted)</th>
                <th>Home Conceded Goals (Weighted)</th>
                <th>Away Goals (Weighted)</th>
                <th>Away Conceded Goals (Weighted)</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js" defer="defer"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">

<script type='text/javascript'>
    $(document).ready(function () {
        //$('#teamsgoalstats').DataTable({
        //    "proccessing": true,
        //    "serverSide": true,
        //    "ajax": {
        //        url: "@Url.Action("GetTeamStregths", "Home")",
        //        type: 'POST'
        //    },
        //    "language": {
        //        "search": "",
        //        "searchPlaceholder": "Search..."
        //    },
        //    "columns": [
        //        { "data": "div" },
        //        { "data": "team" },
        //        { "data": "homeGoalsAvg" },
        //        { "data": "homeGoalAvgWeighted" },
        //        { "data": "awayGoalsAvg" },
        //        { "data": "awayGoalAvgWeighted" },
        //        { "data": "homeGoalsConceededAvg" },
        //        { "data": "homeGoalsConceededAvgWeighted" },
        //        { "data": "awayGoalsConceededAvg" },
        //        { "data": "awayGoalsConceededAvgWeighted" },
        //    ]
        //});

        $('#teamstrength').DataTable({
            "proccessing": true,
            "serverSide": true,
            "ajax": {
                url: "@Url.Action("GetTeamStregths", "Home")",
                type: 'POST'
            },
            "language": {
                "search": "",
                "searchPlaceholder": "Search..."
            },
            "columns": [
                { "data": "div" },
                { "data": "team" },
                { "data": "homeGoalAvgWeighted" },
                { "data": "homeGoalsConceededAvgWeighted" },
                { "data": "awayGoalAvgWeighted" },
                { "data": "awayGoalsConceededAvgWeighted" },
            ]
        });

        $('#divisionavg').DataTable({
            "proccessing": true,
            "serverSide": true,
            "ajax": {
                url: "@Url.Action("GetDivisionGoalAvg", "Home")",
                type: 'POST'
            },
            "language": {
                "search": "",
                "searchPlaceholder": "Search..."
            },
            "columns": [
                { "data": "div" },
                { "data": "leagueHomeGoalsAvg" },
                { "data": "leagueAwayGoalsAvg" },
                { "data": "leagueTotalGoalsAvg" },
            ]
        });

    });
</script>